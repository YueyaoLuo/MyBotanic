<%- include('../partials/header') %>

    <h2 id="collection-title">My Plant Collections</h2>

    <button id='createBtn' class='create-btn btn'>Create a new collection</button>
    <!-- The Modal -->
    <!-- for creating a collection -->
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <form id="popup-form" action="/plantCollections" method="POST">
                <h4>Create a Collection</h4>
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" class="input-field" required>
                </div>
                <div class="form-group">
                    <label for="description">Description:</label>
                    <textarea id="description" name="description" class="input-field"></textarea>
                </div>
                <div class="form-group">
                    <button id="popup-btn" type="submit" class="create-btn btn">Create</button>
                </div>
            </form>
        </div>
    </div>


    <!-- show all collections of the user -->
    <% if (plantCollections.length) { %>
        <div class="board-collections">
            <% plantCollections.forEach(function(c) { %>
                <div class="board-container">
                    <a href="/plantCollections/<%=c._id%>">
                        <!-- board cover -->
                        <% if (c.plants.length) { %>
                            <div class="board-cover photo">
                                <img src=<%=c.plants[0].plantPhoto %> alt="Collection cover">
                            </div>
                            <%} else {%>
                                <div class="board-cover photo">
                                    <img src=<%=c.photo %> alt="Collection cover">
                                </div>
                                <%}%>
                                    <!-- board text -->
                                    <div class="metadata board-text">
                                        <h5>
                                            <%= c.collectionName %>
                                        </h5>


                                        <% if(c.plants.length) { %>

                                            <p>
                                                <%= c.plants.length %> plants
                                            </p>

                                            <%} else {%>
                                                <p> 0 plant</p>

                                                <%}%>
                                    </div>
                    </a>
                </div>
                <% }) %>
        </div>
        <% }else { %>
            <p>No plant collection yet</p>
            <% } %>






                <%- include('../partials/footer') %>